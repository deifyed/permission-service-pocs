name: schemas
model: |
  model
    schema 1.1

  type user

  type organization
    relations
      define admin: [user]
      define member: [user] or admin

  type schema
    relations
      define owner: [organization]
      define viewer: [user]
      define editor: [user]
      define publisher: [user]
      define can_view: viewer or member from owner
      define can_edit: editor or admin from owner
      define can_publish: publisher or admin from owner
tuples:
  - user: organization:ooo
    relation: owner
    object: schema:50
  - user: user:julius
    relation: member
    object: organization:ooo
  - user: user:sjefen
    relation: admin
    object: organization:ooo
tests:
  - name: Tests
    check:
      - user: user:sjefen
        object: schema:50
        assertions:
          can_edit: true
      - user: user:julius
        object: schema:50
        assertions:
          can_view: true
          can_edit: false
